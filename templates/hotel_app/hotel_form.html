<!-- hotel_app/templates/hotel_app/hotel_form.html -->
{% extends "base.html" %}

{% block content %}
<div class="form-container" style="max-width: 800px; margin: 40px auto; padding: 20px;">
    <h1 style="color: #003366; margin-bottom: 30px; text-align: center;">{% if form.instance.pk %}Modifier{% else %}Ajouter{% endif %} un hôtel</h1>

    {% if messages %}
    <div class="messages" style="margin-bottom: 20px;">
        {% for message in messages %}
        <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}"
             style="padding: 10px; border-radius: 4px; margin-bottom: 10px;">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <form method="POST" enctype="multipart/form-data" style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        {% csrf_token %}
        
        <div class="form-group" style="margin-bottom: 20px;">
            <label for="{{ form.name.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Nom de l'hôtel</label>
            {{ form.name }}
        </div>

        <div class="form-group" style="margin-bottom: 20px;">
            <label for="{{ form.description.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Description</label>
            {{ form.description }}
        </div>

        <div class="form-group" style="margin-bottom: 20px;">
            <label for="{{ form.address.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Adresse</label>
            {{ form.address }}
        </div>

        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="{{ form.city.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Ville</label>
                {{ form.city }}
            </div>
            <div class="form-group">
                <label for="{{ form.country.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Pays</label>
                {{ form.country }}
            </div>
        </div>

        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Email</label>
                {{ form.email }}
            </div>
            <div class="form-group">
                <label for="{{ form.phone.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Téléphone</label>
                {{ form.phone }}
            </div>
        </div>

        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="{{ form.image.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Image de l'hôtel</label>
                {{ form.image }}
                {% if form.instance.image %}
                <img src="{{ form.instance.image.url }}" alt="Image actuelle" style="max-width: 200px; margin-top: 10px;">
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.base_price.id_for_label }}" style="display: block; margin-bottom: 5px; color: #666;">Prix de base</label>
                <div style="display: flex; align-items: center;">
                    {{ form.base_price }}
                    <span style="margin-left: 8px;">€</span>
                </div>
            </div>
        </div>

        <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px;">
            <a href="{% url 'hotel-list' %}" style="color: #666; text-decoration: none;">
                <i class="fas fa-arrow-left"></i> Retour à la liste
            </a>
            <button type="submit" style="background-color: #ff5a5f; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: 600;">
                <i class="fas fa-save"></i> {% if form.instance.pk %}Enregistrer{% else %}Créer l'hôtel{% endif %}
            </button>
        </div>
    </form>
</div>

<style>
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="number"],
    textarea {
        width: 100%;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 16px;
    }
    textarea {
        min-height: 100px;
    }
    input[type="file"] {
        width: 100%;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background-color: white;
    }
</style>

<style>
    .alert {
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 10px;
    }
    
    .alert-error {
        background-color: #ffebee;
        color: #c62828;
    }
    
    .alert-success {
        background-color: #e8f5e9;
        color: #2e7d32;
    }
    
    .alert-warning {
        background-color: #fff3e0;
        color: #ef6c00;
    }
    
    .alert-info {
        background-color: #e3f2fd;
        color: #1565c0;
    }
</style>
{% endblock %}
